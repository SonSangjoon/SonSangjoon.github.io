<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.24.4"/><meta data-react-helmet="true" name="description" content="리액트 쿼리를 도입해보면서, 배민 컨퍼런스에서 클린 코드의 영상을 보게 되어 짧게 정리해보았습니다."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="[컨퍼런스] 우아한테크세미나 | React Query와 상태관리"/><meta data-react-helmet="true" property="og:description" content="리액트 쿼리를 도입해보면서, 배민 컨퍼런스에서 클린 코드의 영상을 보게 되어 짧게 정리해보았습니다."/><meta data-react-helmet="true" property="og:image" content="/static/3b10c0e1da604acae4ddd5a212a9179d/thumbnail.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="[컨퍼런스] 우아한테크세미나 | React Query와 상태관리"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="[컨퍼런스] 우아한테크세미나 | React Query와 상태관리"/><meta data-react-helmet="true" name="twitter:description" content="리액트 쿼리를 도입해보면서, 배민 컨퍼런스에서 클린 코드의 영상을 보게 되어 짧게 정리해보았습니다."/><meta data-react-helmet="true" name="twitter:image" content="/static/3b10c0e1da604acae4ddd5a212a9179d/thumbnail.png"/><meta data-react-helmet="true" name="twitter:site" content="@onshore"/><meta data-react-helmet="true" name="twitter:creator" content="@onshore"/><meta data-react-helmet="true" name="google-site-verification" content="l_X8ULwc4eWGYMjn3ZB55i23MJF9Gg9FjVe57qbYfxk"/><style data-href="/styles.0109ae7f897db2fecdd6.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title data-react-helmet="true">[컨퍼런스] 우아한테크세미나 | React Query와 상태관리</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="canonical" href="https://sonsangjoon.github.io/220306/220306/" data-baseprotocol="https:" data-basehost="sonsangjoon.github.io"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1uilex40"><style data-emotion="css 1vn8l36">.css-1vn8l36{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;width:100vw;height:52px;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(0, 0, 0, 0);-webkit-backdrop-filter:saturate(180%) blur(10px);backdrop-filter:saturate(180%) blur(10px);z-index:1000;}</style><header class="css-1vn8l36 e12n6hdc4"><style data-emotion="css y3na0w">.css-y3na0w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:768px;margin:12px auto;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-y3na0w{width:100vw;font-size:12px;}}</style><div class="css-y3na0w e12n6hdc3"><style data-emotion="css sub5od">.css-sub5od{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:12px;-webkit-alig-items:center;-ms-flex-item-alig-items:center;alig-items:center;margin-left:20px;color:#333d48;-webkit-transition:all 150ms ease-out;transition:all 150ms ease-out;}.css-sub5od:hover{color:#b0b8c1;}</style><a class="css-sub5od e12n6hdc1" href="/"><style data-emotion="css 91h5px">.css-91h5px{font-size:21px;font-weight:bold;color:#3182f6;}</style><div class="css-91h5px e12n6hdc0">onshore.</div></a><style data-emotion="css 11peu4j">.css-11peu4j{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;margin:20px;}</style><div class="css-11peu4j e12n6hdc2"><a class="css-sub5od e12n6hdc1" href="/blog">blog</a><a href="https://peppermint-need-c5c.notion.site/Portfolio-4d52917684f04a7bae90479630a2fb73" target="_blank" class="css-sub5od e12n6hdc1">portfolio</a><a href="https://github.com/SonSangjoon" target="_blank" class="css-sub5od e12n6hdc1">github</a></div></div></header><style data-emotion="css-global 1rj6kj3">@import url(//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css);*{padding:0;margin:0;box-sizing:border-box;font-family:'Spoqa Han Sans Neo','sans-serif';}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1qc3us31"><style data-emotion="css dkwb1y">.css-dkwb1y{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-dkwb1y e1qc3us30"><div style="max-width:1920px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1080&#x27; width=&#x27;1920&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVQoz72SUQuCMBSF/f9v/YaiX9CDgS9BD4JRBiJF9RBJTIPqIZ3NbSdGGZWuYVSDwWX3no9z2LXw5WP9ASghpbxWUtbesmcEPgqERiDEe2ht5LuAcdBTDkoLsEI8ARo7nB72sDcR+usIXcdBq91Bz/YxGIZYrEjFrRG4TVOEuwTjmCCYBZiMXHj+Eq43B4mPlXl9ZDV0KznNcc4yCK7iKkfsg8glVCNQz40+xbQyr/2fL/YFsZBjY8qt/aEAAAAASUVORK5CYII=" alt=""/><picture><source type="image/webp" data-srcset="/static/3b10c0e1da604acae4ddd5a212a9179d/0df1a/thumbnail.webp 480w,/static/3b10c0e1da604acae4ddd5a212a9179d/eeb31/thumbnail.webp 960w,/static/3b10c0e1da604acae4ddd5a212a9179d/702da/thumbnail.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" data-src="/static/3b10c0e1da604acae4ddd5a212a9179d/e018d/thumbnail.png" data-srcset="/static/3b10c0e1da604acae4ddd5a212a9179d/c6b60/thumbnail.png 480w,/static/3b10c0e1da604acae4ddd5a212a9179d/f5e84/thumbnail.png 960w,/static/3b10c0e1da604acae4ddd5a212a9179d/e018d/thumbnail.png 1920w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/3b10c0e1da604acae4ddd5a212a9179d/0df1a/thumbnail.webp 480w,/static/3b10c0e1da604acae4ddd5a212a9179d/eeb31/thumbnail.webp 960w,/static/3b10c0e1da604acae4ddd5a212a9179d/702da/thumbnail.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" src="/static/3b10c0e1da604acae4ddd5a212a9179d/e018d/thumbnail.png" srcSet="/static/3b10c0e1da604acae4ddd5a212a9179d/c6b60/thumbnail.png 480w,/static/3b10c0e1da604acae4ddd5a212a9179d/f5e84/thumbnail.png 960w,/static/3b10c0e1da604acae4ddd5a212a9179d/e018d/thumbnail.png 1920w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e9cj2hr3"><style data-emotion="css 67iklr">.css-67iklr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:40px;height:40px;border:1px solid rgb(222, 226, 230);border-radius:50%;background-color:rgb(255, 255, 255);box-shadow:rgb(0 0 0 / 10%) 0px 1px 3px;cursor:pointer;color:black;}.css-67iklr:hover{background-color:white;}</style><div class="css-67iklr e9cj2hr2"><style data-emotion="css r5uk6g">.css-r5uk6g{vertical-align:middle;shape-rendering:inherit;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}</style><svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="css-r5uk6g esf3axk0"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg></div><style data-emotion="css 8arot">.css-8arot{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;line-height:1.2;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-8arot{font-size:30px;}}</style><div class="css-8arot e9cj2hr1">[컨퍼런스] 우아한테크세미나 | React Query와 상태관리</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e9cj2hr0"><div>TIL / 프론트엔드 / 컨퍼런스 / React Query</div><div>2022.03.06.</div></div></div></div><style data-emotion="css 1wsltzd">.css-1wsltzd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-1wsltzd p{padding:3px 0;}.css-1wsltzd h1,.css-1wsltzd h2,.css-1wsltzd h3,.css-1wsltzd h4{font-weight:800;margin-bottom:30px;line-height:1.5;}.css-1wsltzd *+h1,.css-1wsltzd *+h2,.css-1wsltzd *+h3{margin-top:20px;}.css-1wsltzd hr+h1,.css-1wsltzd hr+h2,.css-1wsltzd hr+h3{margin-top:0;}.css-1wsltzd h1{font-size:30px;}.css-1wsltzd h2{font-size:25px;}.css-1wsltzd h3{font-size:20px;}.css-1wsltzd img{width:768px;}.css-1wsltzd blockquote{margin:20px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-1wsltzd ol,.css-1wsltzd ul{margin-left:40px;padding:10px 0;}.css-1wsltzd hr{border:1px solid #000000;margin:20px 0;}.css-1wsltzd a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-1wsltzd pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-1wsltzd pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-1wsltzd code[class*='language-'],.css-1wsltzd pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-1wsltzd{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-1wsltzd h1{font-size:23px;}.css-1wsltzd h2{font-size:20px;}.css-1wsltzd h3{font-size:17px;}.css-1wsltzd img{width:100%;}.css-1wsltzd hr{margin:50px 0;}}</style><div class="css-1wsltzd eohsgcy0"><h1>[컨퍼런스] 우아한테크세미나 | React Query와 상태관리</h1>
<p>컨퍼런스 영상링크: <a href="https://www.youtube.com/watch?v=MArE6Hy371c" target="_blank" rel="nofollow">React Query와 상태관리 :: 2월 우아한테크세미나</a></p>
<p>여러 회사들의 채용 공고를 찾아보면서, React Query에 대해 처음 알게 되었습니다. 많은 회사들이 React Query, SWR 등의 상태관리 라이브러리를 사용하는데, ‘왜 사용할까’라는 점에서 찾아보기 시작했습니다.</p>
<p>그러면서 React Query의 장점에 대해 알게 되었고 개인프로젝트에 사용해보면 좋겠다고 생각했습니다. 그러나 개인 프로젝트를 진행하면서 Recoil을 사용하는데 굳이 상태관리 라이브러리를 2가지 이상 사용해도 될까? 오버엔지니어링이 되지 않을까? 라는 걱정이 생겼습니다. 심지어 스택오버플로우에도 React Query를 사용하는데 굳이 Recoil, Redux과 같은 상태관리 라이브러리를 사용할 이유가 없다며 useContext를 사용하라는 글을 보기도 했습니다. 그러나 저에게는 공감이 되지 않았습니다.</p>
<p>이때 배민의 배민근님께서 작성하신 <a href="https://techblog.woowahan.com/6339/" target="_blank" rel="nofollow">Store에서 비동기 통신분리하기</a>를 읽고, Redux와 서버 상태관리(React Query) 라이브러리를 도입한 이유를 읽으면서 공감이 많이 됐었습니다. 그리고 실제로 사용경험도 매우 좋았었습니다. 마침 글을 작성하신 배민근님께서 우아한 테크세미나를 진행한다고 해서 참여하게 되었습니다.</p>
<p>아래의 글은 우아한 테크 세미나의 내용을 짧게 나마 정리한 글입니다.</p>
<h1>상태관리의 분리</h1>
<h3>상태란</h3>
<p>주어진 시간에 대해 시스템을 나타내는 것으로 언제든지 변결될 수 있으며, 문자열 배열 객체등의 혀애로 응용프로그램에 저장된 데이터를 의미합니다.</p>
<h3>프론트엔드에게 지금까지의 상태란</h3>
<p>UI/UX의 중요성과 프로턱트 규모가 커짐에 따라 FE가 관리하는 상태가 많아지게 되었습니다.</p>
<p>그간의 FE의 상태관리는 상태보다는 API 통신 코드에 더 가까울 정도로 주객전도된 상황이었습니다.</p>
<h3>서버의 상태란</h3>
<ul>
<li>Client에서 제어하거나 소유되지 않는 원격의 공간에서 관리되고 유지됨</li>
<li>Fetching이나 Updating에 비동기 API가 필요함</li>
<li>유저가 모르는 사이 다른 사람들에 의해 변경될 수 있음</li>
<li>잠재적으로 out date 될 가능성을 지님</li>
</ul>
<p>또한 FE에서 이러한 서버의 상태는 일종의 캐시라고 볼수 있습니다.</p>
<br/>
<h3>Owner ship에 의한 분리</h3>
<p>그렇다면 상태는 어떻게 분리하면 좋을까요. 바로 Ownership에 따른 분기입니다.</p>
<p><img src="https://i.imgur.com/uI6bLG6.png" alt=""></p>
<br/>
<h4>Client State</h4>
<ul>
<li>Client에서 소유하며 온전히 제어가능함</li>
<li>초기값 설정이나 조작에 제약 사항 없음</li>
<li>다른 사람들과 공유되지 않으며, Client 내에서 UI/UX흐름이나 사용자 인터렉션에 따라 변할 수 있음</li>
<li>항상 Client 내에서 최신 상태로 관리됨</li>
</ul>
<br/>
<h4>Server State</h4>
<ul>
<li>Client에서 제어하거나 소유되지 않은 원격의 공간에서 관리되고 유지됨</li>
<li>Fetching/Updating에 비동기 API가 필요함</li>
<li>다른 사람들과 공유되는 것으로 사용자가 모르는 사이에 변경될 수 있음</li>
<li>신경 쓰지 않는다면 잠재적으로 “out of date”가 될 가능성을 지님</li>
</ul>
<br/>
<h1>React Query</h1>
<h3>리액트 쿼리의 개요</h3>
<p><img src="https://i.imgur.com/ttnIkfs.png" alt="React-Query-1"></p>
<p>React 애플리케이션에서 서버 상태를 가져오고, 캐싱하고, 동기화하고 업데이트하는 작업을 간단하게 만듭니다.</p>
<br/>
<h3>리액트 쿼리의 3가지 코어 컨샙</h3>
<p>리액트 쿼리 코어 컨셉은 세 가지 요소를 나누어 설명할 수 있습니다.</p>
<p><img src="https://i.imgur.com/hv7Z8gV.png" alt="React-Query-2"></p>
<ul>
<li>
<p>Query: 일반적으로 데이터를 Fetch(Read)을 수행하는데 사용됩니다.</p>
</li>
<li>
<p>Mutation: Query와 달리 Mutation은 일반적으로 데이터를 생성/업데이트/삭제하거나 서버 부작용을 수행하는 데 사용됩니다.</p>
</li>
<li>
<p>Query Invalidation: fetch 된 데이터를 stale(오래된) 취급하여, 현재 랜더링 되고 있는 Queries들을 백그라운드에서 Refetch 합니다.</p>
</li>
</ul>
<br/>
<h3>Query</h3>
<p>React Query는 Query Key에 따라 query caching을 관리합니다.</p>
<p>React Query의 상태는 전역상태처럼 관리됩니다. 이는 QueryClient 내부적으로 Context를 사용하기 때문입니다.</p>
<p><img src="https://i.imgur.com/2QI9aTR.jpg" alt="React-Query-3"></p>
<p>설명중에서는 queries 파일 분리하는 것도 추천했습니다. 배달의 민족 주문 프론트팀의 경우에는 도메인 별로 나누어서 따로 관리한다고 했습니다.</p>
<br/>
<h3>Caching &#x26; Synchronization</h3>
<p>React Query에서도 메모리 캐시를 적용할 수 있습니다.</p>
<ul>
<li>cacheTime: 메모리에 얼마만큼 있을건지 (해당시간 이후 GC에 의해 처리, default 5분)</li>
<li>staleTime: 얼마의 시간이 흐른 후에 데이터를 stale 취급할 것인지 (default 0)</li>
</ul>
<p><img src="https://i.imgur.com/wFq2itM.jpg" alt="React-Query-4"></p>
<p>Default 값은 무엇인가?</p>
<ul>
<li>
<p>staleTime:</p>
<ul>
<li>default: 0</li>
<li>Quries에서 cached data는 언제나 stale 취급</li>
</ul>
</li>
<li>
<p>refetchOnMount/refetchOnWindowFocus/refetchOnReconnect</p>
<ul>
<li>default: true</li>
<li>각 시점에서 data가 stale이라면 항상 refetch</li>
</ul>
</li>
<li>
<p>cacheTime</p>
<ul>
<li>default: 60 _ 5 _ 1000</li>
<li>inActive Query들은 5분 뒤 GC에 의해 처리</li>
</ul>
</li>
</ul>
<p>일반적으로 QueryCache와 직접 상호 작용하지 않고 대신 QueryClient를 통해 특정 캐시에 접근합니다.</p>
<br/>
<h1>4. 끝맺음</h1>
<p>글을 작성하셨던 배민근님께서 직접 설명을 해주니니까 이해하는데 도움이 많이 되었던 것 같습니다. 그리고 React Query를 사용해봤지만, 정말 전체 기능의 일부밖에 활용하지 못한 부분도 있다는 것을 느꼈습니다.</p>
<p>사실 가장 궁금했던 부분은, react query를 사용하면서 Suspense를 어떤 방식으로 사용하는지 궁금했습니다. 이에 ErrorBoundary, Suspense를 사용하지 않고 컴포넌트 내부에서 UI에 대한 로직을 명시한다고 했습니다. 아무래도 결제와 관련된 서비스이다보니 안정성이 우선이라, 실험단계에 있는 기능을 사용하는 것에 한계가 있기 때문이라고 하셨습니다. 아무래도 각각의 에러상황에 대해 개인적으로 고민이 필요할 것 같습니다.</p>
<br/>
<h4>참고</h4>
<ul>
<li><a href="https://www.youtube.com/watch?v=MArE6Hy371c" target="_blank" rel="nofollow">React Query와 상태관리 :: 2월 우아한테크세미나</a></li>
</ul></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc ei01o540"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e18uiaj80">Thank You for Visiting My Blog<br/>© 2022 onshore, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-F2FW9287D4"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-F2FW9287D4', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/220306/220306/";window.___webpackCompilationHash="11ed8bf8e88694f00ced";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fc483b1bbdaa528b4195.js"],"app":["/app-eaff7ccb335ede7f0d1c.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-6eb45a3508afd9181a5c.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-120d85ab194dd996572a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-3b709ef84c170ce062fc.js"],"component---src-pages-info-tsx":["/component---src-pages-info-tsx-9de2baf59b1d79299ace.js"],"component---src-pages-resume-tsx":["/component---src-pages-resume-tsx-5d280f20e5aac3d1884d.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-0373894eee88149e4419.js"]};/*]]>*/</script><script src="/polyfill-fc483b1bbdaa528b4195.js" nomodule=""></script><script src="/app-eaff7ccb335ede7f0d1c.js" async=""></script><script src="/framework-6dc8d1d4ccd1080b4b21.js" async=""></script><script src="/webpack-runtime-54774d440ef92af6c3e4.js" async=""></script></body></html>