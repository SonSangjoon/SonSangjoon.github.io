{"componentChunkName":"component---src-templates-post-template-tsx","path":"/220118/220118/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>들어가기 앞서, 저는 실무에서 일하는 개발자가 아니며 팀 프로젝트를 진행하며 고민하고 생각했던 부분을 정리하여 올린 글입니다.\n따라서 글의 내용 중에서 개념적으로 틀린부분이 있을 가능성이 있습니다. 혹시라도 제 글을 읽어보시는 분들께서 틀린부분이 있거나 조언을 주고 싶은 부분이 있으시다면,\n아래 댓글기능에 편하게 의견을 남겨주시면 정말 도움이 많이 될 것 같습니다 :)</p>\n<h1>프로젝트 구조에 대한 고민 기술 스택의 도입 배경</h1>\n<h1>1. 리액트 디렉토리 구조</h1>\n<p>저희 서비스의 프로젝트는 게시판, 스터디, 채용 3가지 기능을 가진 커뮤니티 서비스였습니다. 따라서, 7주라는 짧은 시간내에 완성도 높은 프로젝트를 만들기 위해 고민했습니다.</p>\n<p>저는 이전에 여러 토이 프로젝트들을 만들면서, 어떤 방식으로 코드 구조를 설계하고 작성해야지 <code class=\"language-text\">이해하기 쉬운 코드</code>고 <code class=\"language-text\">유지 보수가 용이한 코드</code>를 작성할 수 있을지 고민하게 되었습니다.이번 팀 프로젝트에서는 체계적이며 완성도 높은 프론트엔드 시스템을 구축하고 싶다는 생각을 하게 되었습니다.</p>\n<p>토스 컨퍼런스에서 코드 측면에서 관심사의 분리의 적용하는 설명에 대해 들으면서 구조적인 부분에서도 관심사의 분리가 이루어져야 한다고 생각했습니다. 그러면서 찾아보던 중 <a href=\"https://blog.banksalad.com/tech/build-a-website-with-gatsby/#-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%A9%B4%EC%84%9C\" target=\"_blank\" rel=\"nofollow\">뱅크샐러드 블로그</a>에서 공감가면서도 이해하기 좋았던 글을 찾았습니다.</p>\n<p>해당 글을 참고하여 전체적인 프로젝트 구조를 설계했습니다.</p>\n<blockquote>\n<p>Components(UI) > Containers(데이터, 비즈니스 로직) > Pages(서비스)</p>\n</blockquote>\n<p><img src=\"https://i.imgur.com/eBbhlTf.png\" alt=\"컴포넌트 주도 개발\"></p>\n<p>UI의 상태, 데이터의 상태에 따라 구조를 나누었습니다.</p>\n<h3>components</h3>\n<p>재사용이 가능한 요소들을 모아 컴포넌트로 구성되어 있습니다. 순수한 데이터 형태를 props로 받아오며, 다양한 container에서 사용하게 됩니다.</p>\n<p>이에 이번 프로젝트에서는 전체적인 UI의 통일성을 만들기 위해 아토믹 디자인을 기반으로 컴포넌트를 작성하려고 노력했습니다. 이를 통해서, 작은 단위의 컴포넌트 또한 최대한 재사용성을 높을 수 있었으며, UI적인 통일성도 이룰 수 있었습니다.</p>\n<h4>컴포넌트 주도 개발, 아토믹 디자인</h4>\n<p>상황에 따라, 개발비용적인 측면에서 아토믹 디자인 방식이 비효율적인 방식일 수도 있다는 의견을 보기도 했습니다. 물론 재사용성이 적은 작은 컴포넌트 단위까지 개발을 해야하니 생길 수 밖에 없는 문제입니다.</p>\n<p>다만, 그간 팀프로젝트들을 진행하면서, 각자 개발을 수행하다보니 동일한 기능을 가진 컴포넌트임에도 다른 페이지에서 UI을 제공하게 되는 경험을 하게 되었습니다. 결국은 개발 이후에 디자인 QA 단계에서 수정작업을 거치게 되는 비효율성을 경험했습니다. 그래서 전체적인 프로젝트의 레이아웃을 잡고, 재사용성이 높은 컴포넌트를 분류하여 우선적으로 작업을 진행했습니다.</p>\n<p>아래의 이미지는 개발한 컴포넌트들의 구조입니다.</p>\n<p><img src=\"https://i.imgur.com/PrmNttg.png\" alt=\"컴포넌트 구조\"></p>\n<blockquote>\n<p>Atom-Molecule-Organism으로 이어지는 아토믹 구조와 유사하게 Components-Patterns-Layouts를 기준으로 개발을 진행했습니다.</p>\n</blockquote>\n<h3>containers</h3>\n<p>container는 화면을 구성하기 위한 영역에 해당하며 이며 여러개의 section을 가지고 있습니다. Pages를 기준으로 (container내 하위 폴더가 section 입니다.) 여러개의 component들의 조합으로 구성하였습니다.</p>\n<p>기본적으로 page와 container는 1:N 매칭 된 구조를 가지고 있으며 데이터를 가져오거나, 비즈니스 로직을 수행하게 됩니다.</p>\n<p>UI와 별개로 대부분의 IT 서비스의 데이터는 외부서버에서 받아오게 됩니다. 이와 더불어, 사용자의 행동에 따라 데이터에 변화가 이루어집니다. 따라서, UI의 라이프사이클과 별개로 데이터에 대한 상태를 관리해야할 필요가 있다고 생각했습니다.</p>\n<h3>pages</h3>\n<p>pages에 존재하는 파일 이름을 기준으로 서비스의 경로가 생성됩니다. 해당 파일은 경로 이름과 SEO를 위한 title, description 등을 추가하며 콘텐츠들은 모두 container에서 관리하였습니다.</p>\n<p>기획적인 관점에서 보았을 때, 페이지는 서비스내에서 유저에게 일정 행동을 유도하는 역할을 한다고 생각합니다. 전체적인 레이아웃을 설정하는 형태로 분리했습니다.</p>\n<h1>2. 도입한 기술과 사용한 이유</h1>\n<p><img src=\"https://i.imgur.com/qV8QSpZ.png\" alt=\"기술 스택\"></p>\n<h2>Storybook</h2>\n<p>스토리북은 사실 테스트 도구라기 보다는 UI 개발 환경에 가깝습니다. 스토리북의 가장 큰 목적은 “UI 컴포넌트를 애플리케이션 외부의 독립된 환경에서 개발할 수 있도록” 하는 것이라고도 합니다. 이번 프로젝트에서는 디자인시스템을 구축함과 동시에, 간단한 UI 테스트와 더불어 컴포넌트를 데이터 로직과 분리하기 위해 사용했습니다. 여전히 사용법에 대해 부족한 부분을 느껴 추가적으로 공부할 필요성을 느꼈습니다.</p>\n<p><a href=\"https://sonsangjoon.github.io/220130/220130/\" target=\"_blank\" rel=\"nofollow\">스토리북 관련 글 보러가기</a></p>\n<h2>styled-components</h2>\n<p>컴포넌트 주도개발을 기반으로 작업을 진행했기 때문에, CSS in JS 중 하나인 styled-components를 도입했습니다. 사용하면서 좋다고 느꼈던 것은, 스타일을 선언적으로 사용하여 재사용성 측면에서 편의성을 느꼈습니다.</p>\n<h2>Recoil, React-Query</h2>\n<p>각각의 상태를 분리하기 위해 recoil과 react-query를 도입하기로 생각했습니다. UI상태와 서버 데이터의 상태의 라이프사이클을 다르게 관리해야한다고 생각이 들어 두 개의 상태관리 라이브러리를 사용했습니다.</p>\n<p>우선 Recoil 대비 Redux의 경우, 관리하는 전역상태 대비 많은 보일러 플레이트 코드를 작성해야 하는 단점이 있습니다. 또한 또한 Redux의 flux 패턴보다는 작은 Atom 단위로 상태를 관리하는 형태가 컴포넌트 주도개발에 더 맞는 상태관리 라이브러리라고 생각했습니다.</p>\n<p>최신 웹 어플리케이션은 대부분 외부 데이터 소스에 의존하게 됩니다. 저희 서비스 역시 마찬가지였습니다. 로딩의 상태, 에러 핸들링, 캐싱, 페이지네이션 등을 기능을 제공하는 React-Query와 SWR사이에서 고민했습니다. CRUD기능을 위해 편리한 Mutation 지원한다는 점, 처음 사용하는 관계로 Dev tool을 지원한다는 점에서 React-Query를 사용했습니다. 또한 React의 Suspense 기능을 사용하는 것 또한 편리했습니다.</p>\n<h1>4. 끝맺음</h1>\n<p><img src=\"https://i.imgur.com/mziy7X1.png\" alt=\"노션정리\"></p>\n<p>프로젝트를 시작하기 전후로 한 2주동안 어떻게 프로젝트를 만들지 고민을 많이했었습니다. 그러면서 직접 사용도 해보고, 많은 문서도 읽어보면서 시행착오도 겪었지만 반대로 많이 성장했다고 느끼기도 했습니다. 무엇보다 고민했던 내용을 스크럼때 공유하고 관려 문서들을 노션에 공유하면서, 제가 고민했던 부분에 대해 팀원들과 함께 공감하고 프로젝트를 진행할 수 있었다는 것이 정말 보람찼습니다.</p>\n<br/>\n<h4>참고</h4>\n<ul>\n<li><a href=\"https://blog.banksalad.com/tech/build-a-website-with-gatsby/\" target=\"_blank\" rel=\"nofollow\">React밖에 모르는 당신에게. GatsbyJS한 잔</a></li>\n<li><a href=\"https://meetup.toast.com/posts/178\" target=\"_blank\" rel=\"nofollow\">실용적인 프론트엔드 테스트 전략 (2)</a></li>\n</ul>","frontmatter":{"title":"[프로젝트] ssafe #0 리액트 클린 아키텍처와 기술 스택의 도입 배경","summary":"ssafe 서비스를 개발하면서 생각하고 도입한 내용을 정리한 글입니다.","date":"2022.01.18.","categories":["프론트엔드","스토리북","프로젝트"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhklEQVQoz2P4T2XAQBcD//37B6chbHQ+Qg1BAxEK//3/CzXg79+/cEzIUJwuxOEADJcS5cK/UMVbzvz8v//St//nz574v3f/wf/LV6z6v3fffryGMuCz/ej1X//vPf/1/97dW/8vXrry//LlK//v3LlLmoGYYUmaHF4XYosUECbLhYMmYQMAKLplmO7aZ+kAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/5b966b032eb9105217f6346f59d30bd5/e018d/thumbnail.png","srcSet":"/static/5b966b032eb9105217f6346f59d30bd5/c6b60/thumbnail.png 480w,\n/static/5b966b032eb9105217f6346f59d30bd5/f5e84/thumbnail.png 960w,\n/static/5b966b032eb9105217f6346f59d30bd5/e018d/thumbnail.png 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"},"sources":[{"srcSet":"/static/5b966b032eb9105217f6346f59d30bd5/0df1a/thumbnail.webp 480w,\n/static/5b966b032eb9105217f6346f59d30bd5/eeb31/thumbnail.webp 960w,\n/static/5b966b032eb9105217f6346f59d30bd5/702da/thumbnail.webp 1920w","type":"image/webp","sizes":"(min-width: 1920px) 1920px, 100vw"}]},"width":1920,"height":1080}},"publicURL":"/static/5b966b032eb9105217f6346f59d30bd5/thumbnail.png"}}}}]}},"pageContext":{"slug":"/220118/220118/"}},"staticQueryHashes":[]}