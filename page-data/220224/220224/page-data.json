{"componentChunkName":"component---src-templates-post-template-tsx","path":"/220224/220224/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>1. 문제풀이</h1>\n<p>문제 출처: <a href=\"https://programmers.co.kr/learn/courses/30/lessons/72414\" target=\"_blank\" rel=\"nofollow\">프로그래머스-광고삽입</a></p>\n<p>DP를 활용한 메모이제이션과 누적합을 통해서 시간복잡도를 줄이는 것이 중요한 문제였습니다. 단순히 O(N2)로 탐색할 경우, 300,000건의 로그에 대해 시간초과가 발생하기 때문입니다. 이에 공간복잡도를 희생하여, 초단위로 시청자를 누적기록하는 방식으로 구현했습니다.</p>\n<p>이후 초 단위로 환산된 로그에 누적합을 통해 일정 범위의 누적 시청자수를 쉽게 계산할 수 있습니다.</p>\n<h1>2. 정답코드</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 시간 변환 코드</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">str_to_int</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    h<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">3600</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">60</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">int_to_str</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    h<span class=\"token punctuation\">,</span> tmp <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>t<span class=\"token operator\">//</span><span class=\"token number\">3600</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>zfill<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> t <span class=\"token operator\">%</span> <span class=\"token number\">3600</span>\n    m<span class=\"token punctuation\">,</span> s <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>tmp<span class=\"token operator\">//</span><span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>zfill<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>tmp <span class=\"token operator\">%</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>zfill<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\":\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>h<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">solution</span><span class=\"token punctuation\">(</span>play_time<span class=\"token punctuation\">,</span> adv_time<span class=\"token punctuation\">,</span> logs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    answer <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    advt <span class=\"token operator\">=</span> str_to_int<span class=\"token punctuation\">(</span>adv_time<span class=\"token punctuation\">)</span>\n    pt <span class=\"token operator\">=</span> str_to_int<span class=\"token punctuation\">(</span>play_time<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 초 단위 로그를 기록하는 리스트</span>\n    timeline <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>pt<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># 시작지점, 종료지점 초기화</span>\n    <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> logs<span class=\"token punctuation\">:</span>\n        st<span class=\"token punctuation\">,</span> et <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span>\n        s<span class=\"token punctuation\">,</span> e <span class=\"token operator\">=</span> str_to_int<span class=\"token punctuation\">(</span>st<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> str_to_int<span class=\"token punctuation\">(</span>et<span class=\"token punctuation\">)</span>\n        timeline<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        timeline<span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># DP, 초 단위 시청자수</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> pt<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        timeline<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 누적합, 구간별 누적 시청자수</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> pt<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        timeline<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 최대 시청자 초기화</span>\n    max_view <span class=\"token operator\">=</span> timeline<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># 최대 시청자 구간 추출</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> pt<span class=\"token operator\">-</span>advt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        tmp_mv <span class=\"token operator\">=</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span>advt<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> timeline<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> tmp_mv <span class=\"token operator\">></span> max_view<span class=\"token punctuation\">:</span>\n            max_view<span class=\"token punctuation\">,</span> answer <span class=\"token operator\">=</span> tmp_mv<span class=\"token punctuation\">,</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n\n    <span class=\"token keyword\">return</span> int_to_str<span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"[알고리즘] 광고 삽입","summary":"알고리즘 문제 풀이를 공유하기 위해 작성한 게시물입니다.","date":"2022.02.24.","categories":["알고리즘","파이썬","프로그래머스"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUElEQVQoz2N4+vTpf2piBroZ+OTJE7wacckz4FMMonFhXIbideGzZ8/+v3r16v/Lly/BNAi/ePGCdBeiGwgzCGQwWQbSzMtUi5ShkQ7JNRAAYoAp7BBnNwMAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/aaf6a5f9314090521d65920c34283b26/e018d/thumbnail.png","srcSet":"/static/aaf6a5f9314090521d65920c34283b26/c6b60/thumbnail.png 480w,\n/static/aaf6a5f9314090521d65920c34283b26/f5e84/thumbnail.png 960w,\n/static/aaf6a5f9314090521d65920c34283b26/e018d/thumbnail.png 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"},"sources":[{"srcSet":"/static/aaf6a5f9314090521d65920c34283b26/0df1a/thumbnail.webp 480w,\n/static/aaf6a5f9314090521d65920c34283b26/eeb31/thumbnail.webp 960w,\n/static/aaf6a5f9314090521d65920c34283b26/702da/thumbnail.webp 1920w","type":"image/webp","sizes":"(min-width: 1920px) 1920px, 100vw"}]},"width":1920,"height":1080}},"publicURL":"/static/aaf6a5f9314090521d65920c34283b26/thumbnail.png"}}}}]}},"pageContext":{"slug":"/220224/220224/"}},"staticQueryHashes":[]}